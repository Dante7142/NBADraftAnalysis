"0","library(dplyr)"
"0","library(stringr)"
"0",""
"0","# ensure numeric"
"0","num_cols <- c(""PTS"",""TRB"",""AST"",""STL"",""BLK"",""TOV"","
"0","              ""FGPercent"",""FreeThrowPercent"",""ThreePointPercent"",""AvailabilityScore"")"
"0","for (cn in num_cols) if (cn %in% names(DraftData)) DraftData[[cn]] <- as.numeric(DraftData[[cn]])"
"0",""
"0","# map positions to G/F/C (in case of stray lowercase)"
"0","DraftData <- DraftData %>% mutate(Pos3 = toupper(Position))"
"0",""
"0","# position-specific raw score"
"0","DraftData <- DraftData %>%"
"0","  mutate("
"0","    PerformanceScore= case_when("
"0","      Pos3 == ""G"" ~ ("
"0","        1.5*PTS + 0.8*TRB + 1.4*AST + 1.5*STL + 0.7*BLK - 1.1*TOV +"
"0","        26*FGPercent + 22*FreeThrowPercent + 30*ThreePointPercent +"
"0","        15*AvailabilityScore"
"0","      ),"
"0","      Pos3 == ""F"" ~ ("
"0","        1.5*PTS + 1.1*TRB + 1.0*AST + 1.5*STL + 1.2*BLK - 1.0*TOV +"
"0","        28*FGPercent + 20*FreeThrowPercent + 27*ThreePointPercent +"
"0","        15*AvailabilityScore"
"0","      ),"
"0","      Pos3 == ""C"" ~ ("
"0","        1.4*PTS + 1.5*TRB + 0.8*AST + 1.0*STL + 1.7*BLK - 1.1*TOV +"
"0","        32*FGPercent + 15*FreeThrowPercent + 12*ThreePointPercent +"
"0","        15*AvailabilityScore"
"0","      ),"
"0","      TRUE ~ NA_real_"
"0","    )"
"0","  )"
"0",""
"0",""
"0",""
